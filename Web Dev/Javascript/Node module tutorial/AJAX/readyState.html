<!DOCTYPE html>
<html lang="en">
<head>
    <title>Ajax tutorial</title>
    <script>
        function loadText(){
            var xhr = new XMLHttpRequest;
            xhr.open('GET', "text.txt", true);

            console.log("READY STATE = ", xhr.readyState); //1
            /*
            xhr.onreadystatechange = function(){
                console.log("READY STATE = ", xhr.readyState);
                //It actually goes through the conditions, log = 2,3,4

                if(this.readyState == 4 && status == 200){
                    console.log(this.responseText)
                }
            }
            */
            /*
            xhr.onload = function(){
                console.log("READY STATE = ", xhr.readyState);
                //it outputs 4 because onload is not going to run unless it's ready
                
                if(status == 200){
                    console.log(this.responseText)
                }
            }
            */
            //This is optional, if you want the loading gif why the server is processing something, use onprogress
            /*
            xhr.onprogress = function(){
                console.log("READY STATE = ", xhr.readyState)
            }
            */
            xhr.send();
        }
        /*
            ReadyStateValues
            0: Request not initialized
            1: server connection established
            2: request received
            3: Processing request
            4: Request complete and response is ready
        */
    </script>
</head>

<body>
    <button id = "button"></button>
    <script>
        document.getElementById("button").addEventListener("click",loadText);
    </script>
</body>
</html>